<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Image Editor with gradient mapping, levels, blur and grain effects" />
  <title>Image Editor</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="app-container">
    <div class="controls-panel">
      <header>
        <h1>Image Editor</h1>
        <div class="upload-container">
          <label for="upload" class="upload-button">
            <span class="upload-icon">+</span>
            Choose Image
          </label>
          <input type="file" id="upload" accept="image/*" aria-label="Upload image" />
        </div>
      </header>

      <section class="controls" aria-label="Image editing controls">
        <div class="control-group">
          <h2>Gradient Map</h2>
          <div class="colors">
            <input type="color" id="color1" value="#0C3F2D" aria-label="Color 1">
            <input type="color" id="color2" value="#ACB59C" aria-label="Color 2">
            <input type="color" id="color3" value="#E6F970" aria-label="Color 3">
            <input type="color" id="color4" value="#072B4D" aria-label="Color 4">
          </div>
          <button id="randomizeColors" type="button" class="secondary-button">Randomize Colors</button>
        </div>

        <div class="control-group">
          <h2>Levels</h2>
          <div class="slider-group">
            <label for="blackLevel">
              <span class="slider-label">Black Level <span class="value-display"></span></span>
              <input type="range" id="blackLevel" min="0" max="255" value="0"/>
            </label>
            <label for="midLevel">
              <span class="slider-label">Midtones <span class="value-display"></span></span>
              <input type="range" id="midLevel" min="0.1" max="2" step="0.1" value="1"/>
            </label>
            <label for="whiteLevel">
              <span class="slider-label">White Level <span class="value-display"></span></span>
              <input type="range" id="whiteLevel" min="0" max="255" value="255"/>
            </label>
          </div>
        </div>

        <div class="control-group">
          <h2>Blur</h2>
          <div class="slider-group">
            <label for="blur">
              <span class="slider-label">Gaussian Blur <span class="value-display"></span></span>
              <input type="range" id="blur" min="0" max="20" value="0"/>
            </label>
          </div>
        </div>

        <div class="control-group">
          <h2>Grain</h2>
          <div class="slider-group">
            <label for="grainSize">
              <span class="slider-label">Size <span class="value-display"></span></span>
              <input type="range" id="grainSize" min="0" max="5" step="0.1" value="1"/>
            </label>
            <label for="grainStrength">
              <span class="slider-label">Strength <span class="value-display"></span></span>
              <input type="range" id="grainStrength" min="0" max="1" step="0.01" value="0.2"/>
            </label>
            <label for="overlayMode" class="checkbox-label">
              <input type="checkbox" id="overlayMode" checked />
              <span>Overlay Blend Mode</span>
            </label>
          </div>
        </div>

        <div class="control-group">
          <h2>Presets</h2>
          <div class="preset-manager">
            <div class="preset-save">
              <input type="text" id="presetName" placeholder="Preset name" class="preset-input" />
              <button id="savePreset" type="button" class="secondary-button">Save Preset</button>
            </div>
            <div class="preset-gallery">
              <!-- Presets will be dynamically added here -->
            </div>
          </div>
        </div>

        <div class="control-group">
          <h2>History</h2>
          <div class="button-group">
            <button id="undo" type="button" class="icon-button" disabled>
              <span class="material-icon">↶</span>
            </button>
            <button id="redo" type="button" class="icon-button" disabled>
              <span class="material-icon">↷</span>
            </button>
          </div>
        </div>

        <button id="save" type="button" class="primary-button" disabled>Save Image</button>
      </section>
    </div>

    <div class="preview-panel">
      <div class="canvas-container">
        <canvas id="canvas" aria-label="Image preview"></canvas>
        <div class="placeholder-message">Choose an image to start editing</div>
      </div>
    </div>
  </main>

  <script src="script.js" defer></script>
</body>
</html>
